<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFA to DFA Converter</title>

    <!-- <script type="text/javascript" src="js/viz.js"></script>
    <script type="text/javascript" src="js/full.render.js"></script> -->

    <script type="text/javascript" src="js/brython.js"></script>
    <script type="text/javascript" src="js/brython_stdlib.js"></script>

    <script type="text/python" src="py/converter.py"></script>

    <!-- <script onload="brython(1)">
        console.log(window.pythonNFA2DFA(
        {
            "startNode":0,
            "nodes":[
                {
                "name":0,
                "typeOf":"FINAL",
                "edgeIndices":[0]
                },
                {
                "name":1,
                "typeOf":"FINAL",
                "edgeIndices":[0]
                }
            ],
            "edges":[
                {
                "fromNode":0,
                "toNode":1,
                "input":"a"
                }
            ],
            "alphabet":["a", "b", "c", "ε"],
            "mode":0
        }))
    </script> -->

    <script>
        function displayDFA(nfa)
        {
            result = window.pythonNFA2DFA(`
                {
                    "startNode":0,
                    "nodes":[
                        {
                        "name":0,
                        "typeOf":"FINAL",
                        "edgeIndices":[0]
                        },
                        {
                        "name":1,
                        "typeOf":"FINAL",
                        "edgeIndices":[0]
                        }
                    ],
                    "edges":[
                        {
                        "fromNode":0,
                        "toNode":1,
                        "input":"a"
                        }
                    ],
                    "alphabet":["a", "b", "c", "ε"],
                    "mode":0
                }`)
            console.log(result)

            window.open("./display.html?dfa=" + encodeURIComponent(result), '_blank').focus();
            
            // console.log({ "final" : [1,2] })
            // return JSON.parse(result)

            // result
// # def view(self, fileName: str):
// #     dot = Digraph(name=fileName)
    
// #     dot.graph_attr['rankdir'] = 'LR'
    
// #     dot.node("", "", shape='plaintext')
    
// #     for f in self.F:
// #       dot.node(f, f, shape='doublecircle')
    
// #     for q in self.Q:
// #       if q not in self.F:
// #         dot.node(q, q, shape='circle')
    
// #     dot.edge("", self.initialState, label="")
    
// #     for q in self.delta:
// #       for s in self.delta[q]:
// #         dot.edge(q, self.delta[q][s], label=s)
    
// #     print(dot.source)
//     # dot.render()
            // console.log()
        }
    </script>
</head>
<body onload="brython(1)">
</body>
</html>